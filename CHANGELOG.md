# Changelog

모든 주요 변경사항이 이 문서에 기록됩니다.

## [1.0.0] - 2024-12-16

### Phase 3 완료 ✅

#### Added
- **코드 품질 개선**
  - 모든 함수에 타입 힌트 추가 (`typing` 모듈 활용)
  - 상세한 docstring 작성 (Google 스타일)
  - 매직 넘버를 상수로 분리하여 유지보수성 향상
  
- **에러 핸들링 강화**
  - CSV 파일 로딩 시 상세한 예외 처리
  - 사용자 친화적인 에러 메시지 및 해결 방법 제시
  - 데이터 검증 로직 추가
  
- **설정 파일**
  - `.streamlit/config.toml` 추가 (테마 및 서버 설정)
  - `.gitignore` 추가 (불필요한 파일 제외)
  - `runtime.txt` 추가 (Python 버전 명시)
  
- **문서화**
  - README.md 대폭 업데이트 (시스템 요구사항, 문제 해결 섹션)
  - CHANGELOG.md 추가
  - 코드 내 주석 및 docstring 강화

#### Changed
- `data.py`: 상수 정의 및 함수 타입 힌트 추가
- `charts.py`: 상수 정의 및 빈 데이터 처리 개선
- `app.py`: 모듈 docstring 및 섹션별 주석 추가
- 에러 발생 시 앱 중단 대신 경고 메시지 표시

#### Fixed
- 시간 범위 필터링 시 IndexError 방지
- 빈 DataFrame 처리 개선
- 인코딩 오류 시 더 명확한 메시지 제공

---

## [0.9.0] - 2024-12-15

### Phase 2 완료 ✅

#### Added
- **혼잡도 히트맵**
  - 역 × 시간 매트릭스 시각화
  - 정렬 옵션: 가나다순 / 피크 혼잡도순
  - 표시 역 수 조정 슬라이더 (5~50)
  
- **역 비교 기능**
  - 최대 3개 역 동시 선택
  - 멀티 라인차트 비교
  - 역별 KPI 동시 표시
  
- **CSV 다운로드**
  - 랭킹 결과 CSV 파일로 다운로드
  - 타임스탬프가 포함된 파일명 자동 생성
  
- **코드 구조화**
  - `app.py`, `data.py`, `charts.py`로 모듈 분리
  - 함수별 책임 명확화

---

## [0.5.0] - 2024-12-14

### Phase 1 완료 (MVP) ✅

#### Added
- **데이터 로딩 및 전처리**
  - CSV 파일 자동 인코딩 감지 (cp949, euc-kr, utf-8-sig, utf-8)
  - Wide format → Long format 변환
  - 시간 컬럼 표준화 (HH:MM 형식)
  - 혼잡도 값 숫자 변환 및 결측치 제거
  
- **사이드바 필터**
  - 호선 선택 (필수)
  - 역 선택 (전체/특정역)
  - 운행구분 선택 (전체/상행/하행 등)
  - 시간 범위 선택 (슬라이더)
  - Top N 설정 (5~50)
  
- **역 상세 탭**
  - 시간대별 혼잡도 라인차트
  - KPI 표시: 피크 혼잡도, 피크 시간, 평균 혼잡도
  - 운행구분별 색상 분리
  - 상세 데이터 테이블 (확장 가능)
  
- **랭킹 탭**
  - Top N 혼잡 역 테이블
  - 피크 혼잡도 기준 정렬
  - 상위 10개 역 막대 차트
  - 통계 정보: 총 역 수, 최대/평균 혼잡도
  
- **기본 UI**
  - Streamlit 페이지 설정
  - 탭 구조 (역 상세, 랭킹)
  - 인터랙티브 Altair 차트

#### Technical
- Streamlit 1.39.0
- Pandas 2.2.3
- Altair 5.4.1
- 캐싱 적용 (`@st.cache_data`)

---

## [0.1.0] - 2024-12-13

### Initial Release

#### Added
- 프로젝트 초기 설정
- README.md 작성
- 구현 계획 문서 작성
- requirements.txt 생성

---

## 범례

- `Added`: 새로운 기능 추가
- `Changed`: 기존 기능 변경
- `Deprecated`: 곧 제거될 기능
- `Removed`: 제거된 기능
- `Fixed`: 버그 수정
- `Security`: 보안 관련 변경
